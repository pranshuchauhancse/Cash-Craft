import React,{useEffect,useState} from 'react'; import { API } from '../api';
export default function Settings(){ const [data,setData]=useState({}); const [form,setForm]=useState({name:'',preferredCurrency:'INR',timezone:'Asia/Kolkata'});
  useEffect(()=>load(),[]); async function load(){ try{ const { data } = await API.get('/settings'); setData(data); setForm({ name: data.name, preferredCurrency: data.preferredCurrency, timezone: data.timezone }); }catch(e){console.error(e)} }
  async function save(e){ e.preventDefault(); const { data } = await API.put('/settings', form); setData(data); alert('Saved'); }
  return (<div><div className="card" style={{maxWidth:720}}><h3>Profile & Preferences</h3><form onSubmit={save} style={{display:'grid',gap:8,marginTop:10}}><input className="input" placeholder="Display name" value={form.name} onChange={e=>setForm(f=>({...f,name:e.target.value}))} /><input className="input" placeholder="Currency" value={form.preferredCurrency} onChange={e=>setForm(f=>({...f,preferredCurrency:e.target.value}))} /><input className="input" placeholder="Timezone" value={form.timezone} onChange={e=>setForm(f=>({...f,timezone:e.target.value}))} /><button className="btn">Save preferences</button></form></div></div>) }
