import React, {useState} from 'react'; import { API } from '../api';
export default function Register(){ const [name,setName]=useState(''); const [email,setEmail]=useState(''); const [pwd,setPwd]=useState(''); const [msg,setMsg]=useState('');
  const submit = async e => { e.preventDefault(); try{ const { data } = await API.post('/auth/register',{ name, email, password: pwd }); localStorage.setItem('token', data.token); localStorage.setItem('user', JSON.stringify(data.user)); window.location.href = '/'; }catch(e){ setMsg(e.response?.data?.message || 'Registration failed') } };
  return (<div className="card" style={{maxWidth:560, margin:'40px auto'}}><h3>Create account</h3>{msg && <div className="badge">{msg}</div>}<form onSubmit={submit} style={{display:'grid',gap:10,marginTop:10}}><input className="input" placeholder="Full name" value={name} onChange={e=>setName(e.target.value)} /><input className="input" placeholder="Email" value={email} onChange={e=>setEmail(e.target.value)} /><input className="input" type="password" placeholder="Password" value={pwd} onChange={e=>setPwd(e.target.value)} /><button className="btn" type="submit">Register</button></form></div>) }
