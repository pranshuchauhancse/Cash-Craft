import React, {useState} from 'react'; import { API } from '../api';
export default function Login(){ const [email,setEmail]=useState(''); const [pwd,setPwd]=useState(''); const [err,setErr]=useState('');
  const submit = async e => { e.preventDefault(); try{ const { data } = await API.post('/auth/login',{ email, password: pwd }); localStorage.setItem('token', data.token); localStorage.setItem('user', JSON.stringify(data.user)); window.location.href = '/'; } catch(e){ setErr(e.response?.data?.message || 'Login failed') } };
  return (<div className="card" style={{maxWidth:480, margin:'40px auto'}}><h3>Sign in</h3>{err && <div className="badge">{err}</div>}<form onSubmit={submit} style={{display:'grid',gap:10,marginTop:10}}><input className="input" placeholder="Email" value={email} onChange={e=>setEmail(e.target.value)} /><input className="input" type="password" placeholder="Password" value={pwd} onChange={e=>setPwd(e.target.value)} /><button className="btn" type="submit">Sign in</button></form></div>) }
